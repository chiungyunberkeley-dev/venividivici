<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>凱薩GLORY - 官方網站</title>
    <style>
        /* --- 全局變數 --- */
        :root {
            --bg-color: #262626;
            --text-color: #ddd;
            --accent-gold: #d4af37;
            --accent-orange: #ff7f50;
            --accent-pink: #ff69b4;
            
            /* TAG 配色 */
            --tag-default: #EC7969;
            --tag-active: #FFD45A;

            /* 六大分類配色 */
            --theme-blue: #3FC3EB;
            --theme-green: #A4CC1B;
            --theme-purple: #CC99FF;
            --theme-red: #F55660;
            --theme-black: #A1A1A1;
            --theme-yellow: #FFD45A;
        }
        
        body { margin: 0; padding: 0; background-color: var(--bg-color); font-family: "Noto Serif TC", "Microsoft JhengHei", serif; color: var(--text-color); box-sizing: border-box; }
        a { text-decoration: none; color: inherit; cursor: pointer; transition: 0.3s; }
        a:hover { color: var(--tag-active); }
        ul { list-style: none; padding: 0; margin: 0; }
        * { box-sizing: border-box; }

        /* --- 導航欄 --- */
        header { display: flex; justify-content: space-between; align-items: center; padding: 15px 40px; border-bottom: 1px solid #333; background: #1a1a1a; position: sticky; top: 0; z-index: 1000; }
        .logo { font-size: 24px; font-weight: bold; color: var(--accent-gold); display: flex; align-items: center; }
        .logo span { margin-right: 5px; font-family: serif; font-size: 28px; }
        nav ul { display: flex; gap: 25px; }
        nav ul li a { font-size: 15px; color: #ccc; }
        nav ul li a.active { color: var(--tag-active); border-bottom: 2px solid var(--tag-active); padding-bottom: 5px; }
        .login-btn { border: 1px solid #555; padding: 4px 10px; border-radius: 4px; font-size: 12px; color: #888; }
        .login-btn:hover { border-color: var(--accent-gold); color: var(--accent-gold); }

        /* --- 頁面切換 --- */
        .page-section { display: none; padding: 40px 20px; max-width: 1200px; margin: 0 auto; animation: fadeIn 0.5s; }
        .page-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- 首頁 --- */
        .hero-carousel { width: 100%; height: 450px; background: #000; position: relative; overflow: hidden; margin-bottom: 30px; border-bottom: 1px solid #444; }
        .carousel-slide { width: 100%; height: 100%; position: absolute; opacity: 0; transition: opacity 1s; background-size: cover; background-position: center; display: flex; align-items: flex-end; justify-content: center; }
        .carousel-slide.active { opacity: 1; }
        .carousel-caption { background: linear-gradient(to top, rgba(0,0,0,0.9), transparent); padding: 30px; color: #fff; width: 100%; text-align: center; font-size: 24px; text-shadow: 0 2px 4px rgba(0,0,0,0.8); }
        .news-section { background: #333; padding: 20px 30px; border-left: 4px solid var(--accent-gold); margin-top: 20px; }
        .news-title { color: var(--accent-gold); font-size: 20px; margin-bottom: 10px; border-bottom: 1px dashed #555; padding-bottom: 5px; }
        #homeNewsContent { font-size: 14px; line-height: 1.8; color: #ddd; white-space: pre-line; }

        /* --- 書籍頁分類 ICON --- */
        .category-icons { display: flex; justify-content: center; gap: 20px; margin-bottom: 30px; flex-wrap: wrap; }
        .icon-item { display: flex; flex-direction: column; align-items: center; cursor: pointer; }
        .circle { width: 50px; height: 50px; border-radius: 50%; border: 2px solid; display: flex; justify-content: center; align-items: center; font-size: 22px; font-weight: bold; margin-bottom: 5px; font-family: serif; }
        .icon-label { font-size: 12px; color: #aaa; letter-spacing: 1px; }
        
        .c-yellow { border-color: var(--theme-yellow); color: var(--theme-yellow); }
        .c-black { border-color: var(--theme-black); color: var(--theme-black); }
        .c-purple { border-color: var(--theme-purple); color: var(--theme-purple); }
        .c-blue { border-color: var(--theme-blue); color: var(--theme-blue); }
        .c-red { border-color: var(--theme-red); color: var(--theme-red); }
        .c-green { border-color: var(--theme-green); color: var(--theme-green); }

        /* --- TAG 區域 (修改為兩行佈局) --- */
        .tags-section { 
            margin-bottom: 40px; 
            display: flex; 
            flex-direction: column; /* 改為垂直排列 */
            align-items: flex-start; 
            gap: 15px;
        }
        
        .tags-row {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
            width: 100%;
        }

        .tag-label { color: var(--tag-default); font-size: 16px; margin-right: 15px; font-family: serif; flex-shrink: 0; font-weight: bold;}
        
        .tag-btn { 
            background: transparent; 
            border: 1px solid var(--tag-default); 
            color: var(--tag-default); 
            padding: 5px 15px; 
            border-radius: 20px; 
            font-size: 14px; 
            cursor: pointer; 
            transition: 0.3s; 
            white-space: nowrap; 
        }
        .tag-btn:hover { background: rgba(236, 121, 105, 0.1); }
        
        .tag-btn.active { 
            background: transparent !important; 
            border-color: var(--tag-active) !important;
            color: var(--tag-active) !important;
            font-weight: bold;
        }

        /* --- 書籍列表 --- */
        .book-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(480px, 1fr)); gap: 50px; }
        .book-card { display: flex; flex-direction: column; padding-bottom: 25px; border-bottom: 1px solid transparent; }
        
        .theme-blue { border-bottom-color: var(--theme-blue); } .theme-blue .t-color { color: var(--theme-blue); border-color: var(--theme-blue); }
        .theme-green { border-bottom-color: var(--theme-green); } .theme-green .t-color { color: var(--theme-green); border-color: var(--theme-green); }
        .theme-purple { border-bottom-color: var(--theme-purple); } .theme-purple .t-color { color: var(--theme-purple); border-color: var(--theme-purple); }
        .theme-red { border-bottom-color: var(--theme-red); } .theme-red .t-color { color: var(--theme-red); border-color: var(--theme-red); }
        .theme-black { border-bottom-color: var(--theme-black); } .theme-black .t-color { color: var(--theme-black); border-color: var(--theme-black); }
        .theme-yellow { border-bottom-color: var(--theme-yellow); } .theme-yellow .t-color { color: var(--theme-yellow); border-color: var(--theme-yellow); }

        .book-header { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 5px; }
        .book-icon { border: 1px solid; border-radius: 50%; width: 24px; height: 24px; display: inline-flex; justify-content: center; align-items: center; margin-right: 5px; font-size: 14px; }
        .book-title { font-size: 20px; }
        .book-price { color: #fff; font-size: 16px; }
        .divider { border-top: 1px dotted; margin: 10px 0; opacity: 0.7; }
        .book-meta { font-size: 12px; margin-bottom: 15px; }
        .book-content { display: flex; gap: 20px; margin-bottom: 15px; }
        .book-cover { width: 140px; height: 200px; background: #444; object-fit: cover; flex-shrink: 0; }
        
        /* 支援富文本顯示的文案區域 */
        .book-desc { font-size: 14px; line-height: 1.6; color: #ccc; text-align: justify; white-space: pre-wrap; }
        
        .author-name { color: #888; font-size: 13px; margin-bottom: 15px; }
        .action-buttons { display: flex; gap: 15px; margin-top: auto; }
        .btn { flex: 1; padding: 10px 0; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; text-align: center; }
        .btn-buy { background: #fa8072; color: #fff; }
        .btn-info { background: #f4d03f; color: #333; }

        /* --- 作者頁相關 --- */
        .authors-overview { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; }
        .author-card { background: #222; padding: 30px; border-radius: 10px; border-top: 3px solid transparent; transition:0.3s; }
        .author-card:hover { transform: translateY(-5px); border-top-color: var(--accent-gold); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        .ac-header { text-align: center; margin-bottom: 20px; cursor: pointer; }
        .ac-avatar { width: 140px; height: 140px; border-radius: 50%; border: 3px solid var(--accent-gold); object-fit: cover; margin-bottom: 10px; }
        .ac-name { color: var(--accent-gold); font-size: 22px; font-weight: bold; }
        .ac-list-section { margin-bottom: 20px; }
        .ac-list-title { color: var(--tag-active); font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 3px solid var(--tag-active); padding-left: 8px; }
        .ac-list ul { font-size: 13px; color: #ccc; line-height: 1.8; }
        .ac-list li { margin-bottom: 4px; }

        .author-detail-header { display: flex; gap: 40px; margin-bottom: 30px; background: #222; padding: 30px; border-radius: 10px; align-items: flex-start; }
        .ad-avatar { width: 160px; height: 160px; border-radius: 50%; border: 3px solid var(--accent-gold); object-fit: cover; flex-shrink: 0; }
        .ad-info { flex: 1; }
        .ad-name { font-size: 28px; color: var(--accent-gold); margin-bottom: 10px; font-weight: bold; }
        .ad-bio { font-size: 14px; color: #ccc; line-height: 1.8; margin-bottom: 20px; white-space: pre-line; }
        
        .bunsen-layout-grid { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 40px; margin-bottom: 40px; }
        .links-wrapper { background: #2a2a2a; padding: 20px; border-radius: 10px; }
        .links-group { margin-bottom: 20px; border-bottom: 1px dashed #444; padding-bottom: 10px; }
        .links-group:last-child { border-bottom: none; }
        .lg-title { color: var(--tag-active); font-size: 15px; font-weight: bold; margin-bottom: 8px; }
        .lg-list { display: flex; flex-wrap: wrap; gap: 10px; }
        .lg-list li a { color: var(--theme-yellow); font-size: 13px; text-decoration: none; }
        .lg-list li a:hover { text-decoration: underline; color: #fff; }

        .newsletter-box { background: #333; padding: 15px; border-radius: 8px; margin-top: 10px; text-align: center; border: 1px dashed var(--tag-active); }
        .newsletter-title { color: var(--tag-active); font-size: 18px; margin-bottom: 5px; font-weight: bold; }
        .newsletter-desc { font-size: 12px; color: #aaa; margin-bottom: 10px; }
        .newsletter-input { width: 100%; padding: 6px; border-radius: 4px; border: none; margin-bottom: 5px; box-sizing: border-box;}
        .newsletter-btn { width: 100%; background: var(--tag-active); color: white; padding: 6px; border: none; border-radius: 4px; cursor: pointer; }

        .announce-section h3 { color: #fff; font-size: 16px; margin-bottom: 10px; border-left: 3px solid #fff; padding-left: 10px;}
        .announce-content { color: #ccc; font-size: 14px; line-height: 1.8; white-space: pre-line; margin-bottom: 30px; }
        
        .universe-section { border-top: 1px solid var(--tag-active); border-bottom: 1px solid var(--tag-active); margin: 40px 0; padding: 30px 0; text-align: center; }
        .universe-links { display: flex; justify-content: center; gap: 20px; }
        .u-btn { border: 1px solid #fff; color: #fff; padding: 8px 25px; border-radius: 20px; font-size: 14px; transition: 0.3s; cursor: pointer;}
        .u-btn:hover { background: #fff; color: #000; text-decoration: none;}

        .section-header { display: flex; align-items: center; justify-content: center; margin: 50px 0 30px; }
        .section-header span { color: var(--tag-active); font-size: 16px; letter-spacing: 2px; margin: 0 15px; font-weight: bold;}
        .section-header::before, .section-header::after { content: ""; display: block; width: 120px; height: 10px; background-color: var(--tag-active); clip-path: polygon(0% 45%, 94% 45%, 94% 0%, 100% 50%, 94% 100%, 94% 55%, 0% 55%);}
        .section-header::after { transform: scaleX(-1); }

        .text-work-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 30px; text-align: center; }
        .text-work-item { margin-bottom: 10px; background: #2a2a2a; padding: 15px; border-radius: 8px; }
        .t-work-title { color: var(--theme-yellow); font-weight: bold; font-size: 16px; display: block; margin-bottom: 8px; border-bottom: 1px dotted #555; padding-bottom: 5px;}
        .t-work-meta { font-size: 12px; color: #aaa; line-height: 1.6; }
        .t-work-note { color: var(--tag-active); font-size: 12px; margin-top: 5px; white-space: pre-wrap; }

        .pub-work-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 40px; margin-top: 30px; align-items: end;}
        .pub-work-item { text-align: center; }
        .pub-cover { width: 100%; aspect-ratio: 2/3; object-fit: cover; border: 1px solid #444; margin-bottom: 10px; transition: transform 0.3s; box-shadow: 0 4px 10px rgba(0,0,0,0.5);}
        .pub-cover:hover { transform: translateY(-5px); border-color: var(--accent-gold); }
        .pub-title { font-size: 14px; color: var(--theme-yellow); margin-bottom: 5px; font-weight: bold; line-height: 1.4; }
        .pub-meta { font-size: 12px; color: #888; }

        /* --- 後台登入區 --- */
        #login-page { text-align: center; padding-top: 100px; }
        .login-box { background: #333; padding: 40px; border-radius: 10px; display: inline-block; border: 1px solid var(--accent-gold); width: 300px; }
        .login-title { color: var(--accent-gold); font-size: 24px; margin-bottom: 20px; }
        .login-input { width: 100%; padding: 10px; margin-bottom: 20px; background: #222; border: 1px solid #555; color: #fff; text-align: center; }
        
        /* --- 後台 --- */
        .admin-panel { display: none; padding: 20px; max-width: 1200px; margin: 0 auto; }
        .admin-panel.active { display: block; }
        .form-row { display: flex; gap: 20px; margin-bottom: 15px; }
        .form-group { flex: 1; text-align: left; }
        .form-control { width: 100%; padding: 8px; background: #333; border: 1px solid #555; color: #fff; }
        .btn-submit { background: var(--theme-blue); color: white; padding: 10px 20px; border: none; cursor: pointer; width: 100%; margin-top: 10px;}
        .tab-menu { display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 1px solid #444; padding-bottom: 10px; justify-content: space-between; align-items: center; }
        .tab-group { display: flex; gap: 10px; }
        .tab-btn { background: transparent; border: 1px solid #555; color: #aaa; padding: 5px 15px; cursor: pointer; }
        .tab-btn.active { background: var(--accent-gold); color: #000; border-color: var(--accent-gold); }
        .logout-btn { background: #d32f2f; color: #fff; border: none; padding: 5px 15px; cursor: pointer; font-size: 12px; border-radius: 4px; }

        /* --- 富文本編輯器樣式 --- */
        .editor-container { border: 1px solid #555; background: #222; }
        .editor-toolbar { padding: 8px; border-bottom: 1px solid #555; background: #333; display: flex; gap: 5px; flex-wrap: wrap; }
        .editor-btn { background: #444; color: #fff; border: 1px solid #666; padding: 4px 8px; cursor: pointer; border-radius: 3px; font-size: 14px; }
        .editor-btn:hover { background: #555; }
        .editor-select { background: #444; color: #fff; border: 1px solid #666; padding: 4px; border-radius: 3px; }
        .editor-color { padding: 0; border: none; height: 28px; width: 28px; cursor: pointer; background: transparent; }
        .editor-content { min-height: 150px; padding: 10px; color: #ddd; outline: none; line-height: 1.6; }
        .editor-content:focus { background: #2a2a2a; }

        @media (max-width: 768px) {
            header { flex-direction: column; gap: 15px; padding: 15px; }
            .book-grid, .authors-overview, .bunsen-layout-grid { grid-template-columns: 1fr; }
            .hero-carousel { height: 300px; }
            .author-detail-header { flex-direction: column; align-items: center; text-align: center; }
            .universe-links { flex-direction: column; }
        }
    </style>
</head>
<body>

    <header>
        <div class="logo"><span>⚜</span> 凱薩GLORY</div>
        <nav>
            <ul>
                <li><a onclick="route('home')" id="nav-home" class="active">Home</a></li>
                <li><a onclick="route('books')" id="nav-books">Books</a></li>
                <li><a onclick="route('author')" id="nav-author">About</a></li>
                <li><a onclick="route('admin')" id="nav-admin" class="login-btn">後台</a></li>
            </ul>
        </nav>
    </header>

    <div id="home" class="page-section active">
        <div class="hero-carousel" id="homeCarousel"></div>
        <div class="news-section">
            <h2 class="news-title">NEW PUBLICATION - 最新出版資訊</h2>
            <div id="homeNewsContent"></div>
        </div>
    </div>

    <div id="books" class="page-section">
        <div class="category-icons">
            <div class="icon-item" onclick="filterByColor('theme-yellow')"><div class="circle c-yellow">寰</div><span class="icon-label">綜合其他</span></div>
            <div class="icon-item" onclick="filterByColor('theme-black')"><div class="circle c-black">諱</div><span class="icon-label">黑色驚悚</span></div>
            <div class="icon-item" onclick="filterByColor('theme-purple')"><div class="circle c-purple">異</div><span class="icon-label">架空背景</span></div>
            <div class="icon-item" onclick="filterByColor('theme-blue')"><div class="circle c-blue">職</div><span class="icon-label">現代都市</span></div>
            <div class="icon-item" onclick="filterByColor('theme-red')"><div class="circle c-red">鑑</div><span class="icon-label">推理軍情</span></div>
            <div class="icon-item" onclick="filterByColor('theme-green')"><div class="circle c-green">誌</div><span class="icon-label">羅馬假期</span></div>
        </div>

        <div class="tags-section">
            <div class="tags-row" id="tagRow1"></div>
            <div class="tags-row" id="tagRow2"></div>
        </div>

        <div class="book-grid" id="bookCatalog"></div>
    </div>

    <div id="author" class="page-section">
        <div class="authors-overview">
            <div class="author-card">
                <div class="ac-header" onclick="routeAuthorDetail('moscato')">
                    <img src="https://via.placeholder.com/200/444/fff?text=Moscato" id="ov-avatar-moscato">
                    <div class="ac-name">◆ 莫斯卡托 ◆</div>
                </div>
                <div id="ov-list-moscato"></div>
            </div>
            <div class="author-card">
                <div class="ac-header" onclick="routeAuthorDetail('bunsen')">
                    <img src="https://via.placeholder.com/200/444/fff?text=Bunsen" id="ov-avatar-bunsen">
                    <div class="ac-name">◆ 本生燈 ◆</div>
                </div>
                <div id="ov-list-bunsen"></div>
            </div>
        </div>
    </div>

    <div id="author-detail" class="page-section">
        <div id="ad-content"></div>
    </div>

    <div id="login-page" class="page-section">
        <div class="login-box">
            <div class="login-title">管理員登入</div>
            <input type="password" id="adminPwd" class="login-input" placeholder="請輸入密碼 (預設: admin888)">
            <button class="btn-submit" onclick="checkLogin()">登入</button>
        </div>
    </div>

    <div id="admin" class="admin-panel">
        <div class="tab-menu">
            <div class="tab-group">
                <button class="tab-btn active" onclick="switchAdminTab('books')">書籍管理</button>
                <button class="tab-btn" onclick="switchAdminTab('authors')">作者頁設定</button>
            </div>
            <button class="logout-btn" onclick="logout()">登出</button>
        </div>

        <div id="adm-books">
            <h3 style="color: var(--theme-blue);">新增 / 編輯書籍</h3>
            <input type="hidden" id="editId">
            <div class="form-row">
                <div class="form-group"><label>書名</label><input type="text" id="inTitle" class="form-control"></div>
                <div class="form-group">
                    <label>作者</label>
                    <select id="inAuthor" class="form-control">
                        <option value="本生燈">本生燈</option>
                        <option value="莫斯卡托">莫斯卡托</option>
                        <option value="莫斯卡托、本生燈">合著</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>狀態</label>
                    <select id="inStatus" class="form-control" onchange="togglePubFields()">
                        <option value="ongoing">連載中</option>
                        <option value="completed">已完結</option>
                        <option value="published">已出版</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group"><label>字數</label><input type="text" id="inWordCount" class="form-control"></div>
                <div class="form-group"><label>CP (選填)</label><input type="text" id="inCP" class="form-control"></div>
            </div>

            <div class="form-row">
                <div class="form-group"><label>Tags (逗號分隔)</label><input type="text" id="inTags" class="form-control"></div>
                <div class="form-group"><label>封面圖片網址</label><input type="text" id="inCover" class="form-control"></div>
            </div>
            
            <div class="form-group">
                <label style="color:var(--tag-active);">文案 / 收錄至 / 備註 (支援格式編輯)</label>
                
                <div class="editor-container">
                    <div class="editor-toolbar">
                        <button class="editor-btn" onclick="formatDoc('bold')" title="粗體"><b>B</b></button>
                        <button class="editor-btn" onclick="formatDoc('italic')" title="斜體"><i>I</i></button>
                        <button class="editor-btn" onclick="formatDoc('underline')" title="底線"><u>U</u></button>
                        <select class="editor-select" onchange="formatDoc('fontName', this.value)">
                            <option value="">字體</option>
                            <option value="Microsoft JhengHei">微軟正黑</option>
                            <option value="Noto Serif TC">思源宋體</option>
                            <option value="KaiTi">楷體</option>
                            <option value="Arial">Arial</option>
                        </select>
                        <input type="color" class="editor-color" onchange="formatDoc('foreColor', this.value)" title="文字顏色">
                        <button class="editor-btn" onclick="formatDoc('removeFormat')" title="清除格式">清除</button>
                    </div>
                    <div id="editorContent" class="editor-content" contenteditable="true"></div>
                </div>
            </div>

            <div id="pubFields" style="display:none; border:1px solid #555; padding:10px; margin-bottom:15px; background:#2a2a2a;">
                <label style="color:var(--theme-green); font-weight:bold; display:block; margin-bottom:10px;">★ 出版資訊 (出版作品用)</label>
                <div class="form-row">
                    <div class="form-group"><label>定價</label><input type="text" id="inPrice" class="form-control"></div>
                    <div class="form-group">
                        <label>分類顏色</label>
                        <select id="inColor" class="form-control">
                            <option value="theme-blue">藍色 (現代都市)</option>
                            <option value="theme-green">綠色 (羅馬假期)</option>
                            <option value="theme-purple">紫色 (架空背景)</option>
                            <option value="theme-red">紅色 (推理軍情)</option>
                            <option value="theme-black">灰色 (黑色驚悚)</option>
                            <option value="theme-yellow">黃色 (綜合其他)</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group"><label>購買連結</label><input type="text" id="inBuy" class="form-control"></div>
                    <div class="form-group"><label>資訊頁連結</label><input type="text" id="inInfo" class="form-control"></div>
                </div>
                <div class="form-group"><label style="display:inline-flex;align-items:center;"><input type="checkbox" id="inCarousel"> 加入首頁輪播</label></div>
            </div>
            
            <div class="form-group" style="border-top:1px dashed #555; padding-top:15px; margin-top:15px;">
                <label style="display:inline-flex;align-items:center; color: var(--theme-yellow); cursor:pointer;">
                    <input type="checkbox" id="addToNews" style="margin-right:10px;"> 發布上架訊息到首頁
                </label>
            </div>

            <button class="btn-submit" onclick="saveBook()">儲存書籍</button>
            <hr style="border-color:#444; margin:30px 0;">
            <div style="overflow-x:auto;">
                <table style="width:100%; border-collapse:collapse; font-size:14px; min-width:600px;">
                    <thead><tr style="background:#333; color:var(--accent-gold);"><th style="padding:10px;">ID</th><th>書名</th><th>狀態</th><th>作者</th><th style="text-align:right">操作</th></tr></thead>
                    <tbody id="adminBookList"></tbody>
                </table>
            </div>
        </div>

        <div id="adm-authors" style="display:none;">
            <h3 style="color: var(--accent-gold);">作者頁資訊更新</h3>
            <div class="form-group">
                <label>選擇作者</label>
                <select id="authorSelect" class="form-control" onchange="loadAuthorData()">
                    <option value="moscato">莫斯卡托</option>
                    <option value="bunsen">本生燈</option>
                </select>
            </div>
            <div class="form-group"><label>公告/獲獎紀錄 (支援HTML)</label><textarea id="authNews" class="form-control" rows="5"></textarea></div>
            <div class="form-group"><label>頭像網址</label><input type="text" id="authAvatar" class="form-control"></div>
            <div class="form-group"><label>簡介</label><textarea id="authBio" class="form-control" rows="3"></textarea></div>
            <button class="btn-submit" onclick="saveAuthorInfo()">更新作者資訊</button>
        </div>
    </div>

    <script>
        const defaultBooks = [
            { id: 302, title: "安邦立業先守成 下", author: "本生燈", status: "published", category: "theme-blue", price: 250, tags: "現代都市, 耽美, 雙向暗戀, 甜寵", cover: "https://via.placeholder.com/140x200?text=Cover", desc: "「喜歡嗎？我認為這兩個字還不夠，不能完整表達我的感情。我想要的是，看你站得更高，飛得更遠，活得更自由。」<br><br>隨著兩人的感情漸入佳境，價值觀與社經地位的差異也逐漸浮現出來。 選擇伴侶是不是要門當戶對？陳守安不只一次捫心自問，還得面對職場的排擠。 另一方面，面臨廠商哄抬價格與對手惡意競價，吳立業亦有自己的難題。<br>但人生哪能不起波折，只求有緣人同舟共渡。<br>如果提出要求就能被實現，那陳守安只有一個要求。<br>「我喜歡聽你說喜歡我。」<br><br>而吳立業所能給的，比一個更多。", carousel: true, buyLink: "#", infoLink: "#", wordCount: "約16萬" },
            { id: 301, title: "安邦立業先守成 上", author: "本生燈", status: "published", category: "theme-blue", price: 250, tags: "現代都市, 耽美, 雙向暗戀, 甜寵", cover: "https://via.placeholder.com/140x200?text=Cover", desc: "「只要你敢要，那就有。」<br><br>陳守安在泳池進了一間傳說中供Gay打砲的淋浴間，和猛男來一場酣暢淋漓的豔遇，出了淋浴間才發現砲友竟是某大公司董事長吳立業。 兩人性事合拍，食髓知味，豔遇成為固砲，卻也讓彼此更靠近對方的生活。<br>一個是剛踏入社會的菜鳥工程師，一個是在社會打滾多年的企業董事長，他問他職場的進退，他陪他渡過事業的波折，性事之外，他們會擁抱，會親吻，會在新年時互祝平安。<br><br>曖昧朦朧的關係如何延伸到未來？ 陳守安遲疑於兩人之間的年齡與社會地位差距，而男人卻告訴他，「只要你敢要，那就有。」", carousel: true, buyLink: "#", infoLink: "#", wordCount: "約16萬" },
            { id: 300, title: "003期 Wedding", author: "莫斯卡托、本生燈", status: "published", category: "theme-green", price: 240, tags: "耽美, 現代都市, 甜寵", cover: "https://via.placeholder.com/140x200?text=Wedding", desc: "收錄《性，愛與筆記》及《當星星殞落》相關番外<br><br>《性，愛與筆記》番外收錄<br>－千年結緣　《紅妝待嫁》《共枕眠》《我心安處》<br>－浪漫脈動　《永恆凝結》<br><br>《當星星殞落》番外收錄<br>－浪漫脈動　《我願意》<br>－一加一　   《單身派對》《心跳共鳴》", carousel: false, buyLink: "#", infoLink: "#" },
            { id: 299, title: "錄音間秘事", author: "本生燈", status: "published", category: "theme-blue", price: 250, tags: "現代都市, 耽美, 雙向暗戀, 甜寵", cover: "https://via.placeholder.com/140x200?text=Cover", desc: "「我們在一起之後，我每天都在感謝老天爺，讓你遇見我，在我最好的時候。」<br><br>程曉璐第一次接演耽美廣播劇，與前輩姚謹懷搭戲， 他被姚謹懷的呻吟勾起反應， 而在錄音間外，他卻被姚謹懷反壓在門板上俯首親吻。 曖昧流轉成慾望，程曉璐以為兩人只是順勢交往， 但姚謹懷似乎比他以為的更喜歡他——", carousel: false, buyLink: "#", infoLink: "#", wordCount: "約4萬" },
            { id: 298, title: "002期 LIFE", author: "莫斯卡托、本生燈", status: "published", category: "theme-green", price: 240, tags: "耽美, 現代都市, 甜寵", cover: "https://via.placeholder.com/140x200?text=LIFE", desc: "收錄《投資一定有風險》及《談愛傷感情》相關番外<br><br>《投資一定有風險》番外收錄<br>－怦然時刻　《融心》<br>－心之所向　《共祈》<br>－浪漫指南　《情炙》<br><br>《談愛傷感情》番外收錄<br>－怦然時刻　《尾指的溫度》<br>－心之所向　《野花香》<br>－浪漫指南　《歲月靜好》", carousel: false, buyLink: "#", infoLink: "#" },
            { id: 297, title: "絕交進行式", author: "莫斯卡托", status: "published", category: "theme-blue", price: 200, tags: "現代都市, 耽美, 雙向暗戀, 甜寵", cover: "https://via.placeholder.com/140x200?text=Break", desc: "「我不缺朋友，也不缺室友，只缺男朋友。」<br><br>在外人眼中，陳鳴予是幽默多金的眼科醫師，周晉哲是溫和內向的營養師。<br>私底下，陳鳴予是幼稚又沉迷遊戲的電動狂，周晉哲是廚藝精湛的生活達人。<br>個性迥然的他們以室友身分同居十年，相互有意卻無人戳破，直到一次並不平靜的情人節！<br><br>──我不想再和你當朋友，我們絕交吧！<br>平衡被打破，不再是朋友的兩人該如何相處？", carousel: false, buyLink: "#", infoLink: "#" },
            { id: 296, title: "騂艣之末", author: "本生燈", status: "published", category: "theme-black", price: 270, tags: "星際, ABO, 骨科, 人外, 兄弟, 年下, 懸疑, 異世界", cover: "https://via.placeholder.com/140x200?text=Cover", desc: "【異世界懸疑耽美ABO短篇合集】<br><br>《騂艣之末》 【跨越星際、物種和血緣的複雜感情】<br>星歷3395年，騂艣一族侵犯地球，挾持特殊自衛隊Ω總指揮官韓鷹回到天艣星，韓鷹遇見對他抱著特殊感情的孿生兄弟薩爾提諾，此刻又正巧碰上韓鷹的發情期……<br><br>《深水里的叛徒》【異色懸疑耽美】<br>諱莫里的α巡警王國文暗自欽慕清冷俊美的Ω醫師施友德，施友德每個月都會回他的故鄉深水里義診，深水里就坐落在那遙遠的山頭。<br>一日，王國文跟蹤施友德上山，卻意外闖入深水里的「繼位大典」而被囚禁，而被他標記過的施友德卻帶著別人的標記。<br>午夜十二點，「繼位大典」即將舉行。", carousel: false, buyLink: "#", infoLink: "#", wordCount: "1-2萬" },
            { id: 295, title: "北之國-冒險版", author: "莫斯卡托", status: "published", category: "theme-purple", price: 280, tags: "耽美, 奇幻架空, 雙性生子, 甜寵", cover: "https://via.placeholder.com/140x200?text=North", desc: "「只有你，有資格成為我孩子的父親。」<br><br>北之國王室的血脈特殊，他們沒有王后，代代由王儲親自以男體孕子。<br>現任王儲‧諾恩年方十八，暗戀年長的家庭教師已久，數次示愛，也數次失敗。<br>然而依照習俗，為了孕育最優秀的子嗣，王夫人選只能是招親儀式的優勝者。<br>面對猛烈攻勢，拜倫既非鐵石心腸，亦非無動於衷，但兩人年歲相差甚多，諸多考量讓拜倫始終拿不定主意。<br>而今儀式在即，各方挑戰者紛紛湧入北之國，究竟王夫頭銜將由何人拔得頭籌？", carousel: false, buyLink: "#", infoLink: "#" },
            { id: 294, title: "北之國-童話版", author: "莫斯卡托", status: "published", category: "theme-purple", price: 280, tags: "耽美, 奇幻架空, 雙性生子, 甜寵", cover: "https://via.placeholder.com/140x200?text=North2", desc: "「只有你，有資格成為我孩子的父親。」<br><br>北之國王室的血脈特殊，他們沒有王后，代代由王儲親自以男體孕子。<br>現任王儲‧諾恩年方十八，暗戀年長的家庭教師已久，數次示愛，也數次失敗。<br>然而依照習俗，為了孕育最優秀的子嗣，王夫人選只能是招親儀式的優勝者。<br>面對猛烈攻勢，拜倫既非鐵石心腸，亦非無動於衷，但兩人年歲相差甚多，諸多考量讓拜倫始終拿不定主意。<br>而今儀式在即，各方挑戰者紛紛湧入北之國，究竟王夫頭銜將由何人拔得頭籌？", carousel: false, buyLink: "#", infoLink: "#" },
            { id: 293, title: "當星星殞落", author: "莫斯卡托", status: "published", category: "theme-blue", price: 370, tags: "耽美, 現代都市, 暗戀, 強強", cover: "https://via.placeholder.com/140x200?text=Star", desc: "倘若神真的存在，我必然因為無數次祈求星星的殞落而被降罪。<br><br>「鬧夠了吧？盧學淵，你放開我！」<br>「許星，但你硬了。不只硬了還射在我的體內。」<br>一場非預期的官司，讓盧學淵有了最好的理由再去摘取十多年前錯過的星辰。 不容他人拒絕的天之驕子，步步逼近夜空中萬眾矚目的璀璨星辰，他們分享親吻、擁抱，和性愛，相偎的體溫從陌生到熟悉。<br>許星一再退讓，直到避無可避，面對律師與委託人間脫序的關係，他們是否真有導回正軌的那一天？", carousel: false, buyLink: "#", infoLink: "#" },
            { id: 292, title: "創刊號 GLORY", author: "莫斯卡托、本生燈", status: "published", category: "theme-green", price: 240, tags: "耽美, 現代都市, 演藝圈, 甜寵", cover: "https://via.placeholder.com/140x200?text=Glory", desc: "收錄《性，愛與筆記》及《當星星殞落》相關番外<br><br>《性，愛與筆記》番外收錄<br>－焦點話題　《未婚夫，請多指教》<br>－寓教於樂　《都普勒敲鐘》<br>－談心教室　《當局者迷》<br>－闔家歡樂　《卡坦島的回合》<br>－獨家專訪　《直擊陸臣》<br><br>《當星星殞落》番外收錄<br>－私房指南　《機關算盡》<br>－閒話家常　《帥女婿見家長》<br>－驚爆內幕　《噓！盧總的願望》", carousel: false, buyLink: "#", infoLink: "#" },
            { id: 291, title: "性，愛與筆記 · 微糖", author: "本生燈", status: "published", category: "theme-blue", price: 1100, tags: "耽美, 演藝圈, 現代都市", cover: "https://via.placeholder.com/140x200?text=Cover", desc: "一套三冊不分售<br><br>他們之間，相隔兩億五千萬光年的距離。<br><br>當紅男星陸臣為了磨練自己的演技，接演一部同志片，在劇組遇上物理系助理教授靳明毅。<br>男人品味優雅，學識豐富，完全符合他的性幻想，讓他忍不住親近，一場跳樓的戲更讓兩人之間的距離急速縮短。<br>「你有過那種經驗嗎？被逼到絕境，心灰意冷，不如去死？」<br>「有。」<br>「不要走上絕路，你現在這樣，就很好。」<br>那一瞬間，陸臣猛然意識到，男人不再只是他的性幻想對象。", carousel: false, buyLink: "#", infoLink: "#", wordCount: "約30萬" },
            { id: 290, title: "性，愛與筆記 · 半糖", author: "本生燈", status: "published", category: "theme-blue", price: 1100, tags: "耽美, 演藝圈, 現代都市", cover: "https://via.placeholder.com/140x200?text=Cover", desc: "一套三冊不分售<br><br>「你穿這樣，很干擾我。」<br>「我喝醉了。你想做什麼都可以，我不記得。」<br><br>陸臣為了避風頭，隨靳明毅出國參加研討會，兩人暢遊芝加哥。數天的朝夕相處，讓彼此之間更加了解。<br>陸臣敲開靳明毅的房門，本想尋求經紀合約的建議，卻撞見微醺的靳明毅。<br>男人少了斯文，多了野性，陸臣只覺得心癢難耐。<br>他在靳明毅的眼睛裡，看見意亂情迷的自己，炙熱的情感幾乎要竄出喉嚨，整個身體都發燙。<br>「你有兩個選擇。第一，我醉了，你現在離開，我們明天再討論你的問題。第二，你留下來，我們明天再討論你的問題。」", carousel: false, buyLink: "#", infoLink: "#" },
            { id: 289, title: "性，愛與筆記 · 全糖", author: "本生燈", status: "published", category: "theme-blue", price: 1100, tags: "耽美, 演藝圈, 現代都市", cover: "https://via.placeholder.com/140x200?text=Cover", desc: "一套三冊不分售<br><br>「你的喜歡很珍貴，值得我每天向你討。」<br>「這故事源自我的想像，如今卻成為我的筆記。」<br><br>靳明毅與陸臣終於確定關係，幸福只差臨門一腳，前男友卻再度闖入陸臣的房裡。<br>「你敢叫人，我就立刻上傳性愛影片。」<br>陸臣早已蛻變，豈甘受制於人。<br>「我可以告你性騷擾，還可以告你誹謗。你說你有影片，你拿出來，我們法院見。」<br>一直埋藏在他心裡的刺，一定要好好拔除，不留一點痕跡。", carousel: false, buyLink: "#", infoLink: "#" },
            { id: 288, title: "SCID-異鄉人 上冊", author: "莫斯卡托", status: "published", category: "theme-red", price: 320, tags: "耽美, 軍警, 懸疑推理, 現代都市, 歐美風, 強強", cover: "https://via.placeholder.com/140x200?text=SCID1", desc: "「別說戀人，他們連朋友都當不成！」<br><br>特殊犯罪搜查組迎來新任檢察官，布蘭登‧伊茲，然而布蘭登卻處處針對向來好相處的警探，丹佐‧悉德尼。<br>「放任線人上下其手，悉德尼警探總是用這種方式辦案嗎？」<br>布蘭登話裡話外處處帶刺，幾番退讓的丹佐終是忍無可忍，「不將個人情緒帶到工作中是常識吧？」<br>兩人在辦案之間相互磨合，丹佐逐漸被布蘭登吸引，然而直男顯然不是戀愛對象的好選項。<br>究竟，難解的感情習題能否在同樣難解的案情中找到解答？", carousel: false, buyLink: "#", infoLink: "#" },
            { id: 287, title: "SCID-異鄉人 下冊", author: "莫斯卡托", status: "published", category: "theme-red", price: 380, tags: "耽美, 軍警, 懸疑推理, 現代都市, 歐美風, 強強", cover: "https://via.placeholder.com/140x200?text=SCID2", desc: "當獵人與獵物的立場對換，該如何出擊？<br><br>獵豔被撞破，丹佐的行為直接踩上布蘭登的底線，兩人的關係驟然降至冰點。<br>就在此時，座車修好的布蘭登也毋須仰賴丹佐接送，相處的時間因而大幅減少。<br>睽違多日不見，丹佐怎麼也沒想到竟會傳來如此噩耗──布蘭登失聯了！<br>一場意外，再次拉近兩人的距離。 相對退縮的丹佐，察覺自身感情的布蘭登選擇步步逼近。<br>且看翻轉獵物身份的布蘭登如何拿下獵人。", carousel: false, buyLink: "#", infoLink: "#" },
            { id: 100, title: "但凡死者都姓蘇", author: "本生燈", status: "published", category: "theme-purple", price: 200, tags: "一般向, 穿越, 懸疑推理, 現代都市, 強強", cover: "https://via.placeholder.com/140x200?text=Cover", desc: "「所以，沒有人有不在場證明嗎？」<br><br>這句話很銳利，銳利得能切斷所有薄弱的同學情誼。<br>蘇曉寒一覺醒來發現落入自己的遊戲。<br>與世隔絕的山莊，六個嫌疑人，隨機抽取的三十幾個劇本中，她曾把自己玩死好多次。<br>她小心推理，步步為營，就怕自己走不出遊戲。<br>很久以後，她才發現，遊戲裡，總會有一個死者姓蘇。", carousel: false, buyLink: "#", infoLink: "#" },
            
            // --- 連載中 ---
            { id: 109, title: "當社工怎麼談戀愛", author: "莫斯卡托", status: "ongoing", tags: "耽美, 現代都市, 職場", cp: "", wordCount: "-", desc: "連載中..." },
            { id: 110, title: "長夜未曉", author: "莫斯卡托", status: "ongoing", tags: "耽美, 血族, 歐美風, 中古世紀奇幻", cp: "", wordCount: "-", desc: "連載中..." },
            { id: 111, title: "願者上鉤", author: "莫斯卡托", status: "ongoing", tags: "耽美, 現代都市, 亂倫, 多P", cp: "", wordCount: "-", desc: "連載中..." },
            { id: 101, title: "金色深淵", author: "本生燈", status: "ongoing", tags: "耽美, 歐美, 懸疑, 強強", cp: "", wordCount: "10-20萬", desc: "" },
            { id: 102, title: "匪類", author: "本生燈", status: "ongoing", tags: "耽美, 強強, 特務, 砲友", cp: "", wordCount: "7萬", desc: "" },
            { id: 103, title: "錄音間外的旁觀者", author: "本生燈", status: "ongoing", tags: "耽美, 聲音導演X配音員", cp: "", wordCount: "約7萬", desc: "" },
            { id: 104, title: "非我族類，其心必異", author: "本生燈", status: "ongoing", tags: "耽美, ABO, 星際, 人外", cp: "外星語翻譯官X特殊自衛隊指揮官", wordCount: "3-5萬", desc: "《外星宜居城市》後續" },
            { id: 105, title: "羊駝小姐與黃金獵犬先生", author: "本生燈", status: "ongoing", tags: "BG, 都會戀情", cp: "", wordCount: "單篇", desc: "《無糖的甜度》相關作" },
            { id: 106, title: "沉縛", author: "本生燈", status: "ongoing", tags: "耽美, 輕微BDSM, 強強", cp: "霸道總裁VS控制狂", wordCount: "6-8萬", desc: "" },
            { id: 107, title: "如何在狼手下求生存", author: "本生燈", status: "ongoing", tags: "耽美, 職場, 上司下屬, 砲友", cp: "", wordCount: "單篇連載", desc: "《投資一定有風險》相關作" },
            { id: 108, title: "枯木逢春", author: "本生燈", status: "ongoing", tags: "耽美, 年齡差, 壯漢, 忠犬受, 台電", cp: "", wordCount: "6-8萬", desc: "" },

            // --- 完結 ---
            { id: 67, title: "我們的戰爭", author: "莫斯卡托", status: "completed", tags: "耽美, 歐風, 二戰背景", cp: "", wordCount: "-", desc: "完結" },
            { id: 68, title: "胡伊小鎮的托瑪斯家", author: "莫斯卡托", status: "completed", tags: "耽美, ABO, 歐美風, 詼諧諷刺", cp: "", wordCount: "-", desc: "完結" },
            { id: 69, title: "不再沉默", author: "莫斯卡托", status: "completed", tags: "耽美, 現代都市, 溫馨日常, 掰彎直男", cp: "", wordCount: "-", desc: "完結" },
            { id: 70, title: "與君共舞", author: "莫斯卡托", status: "completed", tags: "現代都市, 耽美, 掰彎直男", cp: "", wordCount: "-", desc: "完結" },
